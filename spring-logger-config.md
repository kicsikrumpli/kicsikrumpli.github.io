##Configuring Logging with Spring
---

problem: logging is a big fucking mess with
commons logging, JUL, SLF4j, logback, Log4j

base project: Spring Maven project generated by Eclipse

	<properties>

		<!-- Generic properties -->
		<java.version>1.6</java.version>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>

		<!-- Spring -->
		<spring-framework.version>3.2.3.RELEASE</spring-framework.version>

		<!-- Hibernate / JPA -->
		<hibernate.version>4.2.1.Final</hibernate.version>

		<!-- Logging -->
		<logback.version>1.0.13</logback.version>
		<slf4j.version>1.7.5</slf4j.version>

		<!-- Test -->
		<junit.version>4.11</junit.version>

	</properties>

###Logback
---

1. exclude dependecies to commons logging
2. add logback dependencies
3. add logback.xml onto classpath
4. configure logger

1. exclude dependencies to commons logging
---

	<dependencies>
	...
		<dependency>
			<groupId>org.springframework</groupId>
			<artifactId>spring-context</artifactId>
			<version>${spring-framework.version}</version>
			<exclusions>
				<exclusion>
					<groupId>commons-logging</groupId>
					<artifactId>commons-logging</artifactId>
				</exclusion>
			</exclusions>
		</dependency>
	...
	
2. logback dependencies
---

		<!-- Logging with SLF4J & LogBack -->
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>jcl-over-slf4j</artifactId>
			<version>1.7.0</version>
			<scope>runtime</scope>
		</dependency>
		<dependency>
			<groupId>org.slf4j</groupId>
			<artifactId>slf4j-api</artifactId>
			<version>${slf4j.version}</version>
			<scope>compile</scope>
		</dependency>
		<dependency>
			<groupId>ch.qos.logback</groupId>
			<artifactId>logback-classic</artifactId>
			<version>${logback.version}</version>
			<scope>runtime</scope>
		</dependency>

note, that jcl-over-slf4j is not automatically included in pom.xml upon project creation.

3. add logback.xml onto classpath
---

Upon creation the project assumes the following structure, as seen in Eclipse Package explorer:

	[+] project
	 |
	 +---[+] src/main/java
	 |
	 +---[+] src/main/resources
	 |
	 +---[+] src/test/java
	 |
	 +--- > JRE System Library
	 |
	 +--- > Maven Dependencies
	 |
	 +---[ ] src
	 |    |
	 |    +---[ ] main
	 |	  |
	 |	  +---[ ] test
	 |
	 +---[ ] target
	 |
	 +--- pom.xml

	 note: [+] is project folder
		   [ ] is regular folder
		    >  libraries
			
put logback.xml in src/main/resources 

4. configure logger
---

	<?xml version="1.0" encoding="UTF-8"?>
	<configuration>

	  <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
		<!-- encoders are assigned the type
			 ch.qos.logback.classic.encoder.PatternLayoutEncoder by default -->
		<encoder>
		  <pattern>### %d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
		</encoder>
	  </appender>

	  <root level="error">
		<appender-ref ref="STDOUT" />
	  </root>
	</configuration
